<div class="zdt-toolbar-entry">
    <div class="zdt-toolbar-preview">
        <img  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAWBJREFUeNpiYBg04P////ZAXA9l8wNxPhD7A7E+Qc1v+MX/w8BHr4D/fx4+gnD27/////37/7+aW/9/4BFCwSA9cAM+SCv9xwDx8f//gxzDzw+h0TDIEJBepp+79ubzP7mL6qQPHxgYHjxgYIiPZ2DYsIGB4f59BgZ9TJ+8FpC0Z/ja3vP/14MH/79dvPQfLwB6BeSqb0zM/1+xcv5/z8H7/y2f6H+GT5Hx/98Vl/0/aeOOVd+jaXPAGAbeHT72/2JU8v93LOwQb4CIX4yMYIFfCYkoNr5zdv9/j4MPjD85uQLjqB6MfxkYgvXADYA5C2zIgYMQA86fBwfWJ2ZWsDgyBqkF6QHpZQEFxg8mFobL3CLggFE8fpZB0d6OgcHAgOGQnDbDn0+fsEa94ZdXDEygWPjLxMzwm42TgZvhPxh/WraK4d/Hj2BFYjYWcHF0DNKDL1X2g5IRKDUwDH8AEGAAtLlNHkCc0REAAAAASUVORK5CYII=" alt="CouchDB (DoctrineCouchODMModule)">
        <span class="zdt-toolbar-info">
            <?php echo $this->collector->getRequestCount(); ?> requests
        </span>
        <img alt="Total Request Time" src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wHAw8mGjxdOGkAAANISURBVDjLrZRRSCxlFMf/3+es7ujAZdkWRFtMepAUXVehEIILETei+1iy9iBURMF9iB6u9JJEBWbZS6F4k7wXe0vYLNhIwau5O4MSDKIj68LorkzhthItspvbznxzerhe2J27ZA99b3P+5//jO985cxiuOKenp44QgnPOWUdHB7sqn1+VMDMzU2htbWXxeBz/27Esi1ZXV2/+l9yGJWSz2ccZY68xxt5kjIUZYwSAEVHJdd1viGhOCHHIOX+Hcz7e1NR0PRwOFxsCTdN8i3P+kc/nC+VyOVfTtCIAOI5DkUhE6e/vbyEi23XdH4QQT8uyHC6Xy1s9PT3X0QB2yzRNymQy7tjY2IEkSZ/KsjwCIAIg2tbWdntwcDCVTCYvTNOkk5MTmpqaOu3s7Jx/BGYYxjOZTIa2t7dFb2/vPQBPPNSOjo7IsqyXLj+bfT7fZCKRKGezWVpcXPyq4WMeHBxkdV2n8fHxOwDkWi2dTlM6nX6xNtbd3f1GIpFwDw8PqVAoPFY3Npubm68A6LAs62hpaelDABe1ZiICEXkbd09V1buO48AwjE/qgLIsDwBoTiaT9wH8Vmvc399XhBAQQrR5ihLVavXb8/PzvxVFuVEH9Pv9khACZ2dnP3qfQghx/xI459WOj4+PGWN/trS0+B/GpMuRAOccwWDwwmtyHGeQcw7XdUNeLRgM2gBcx3F43Q0rlQo5joP29vaA1zQ6OnpHURQsLCz87NW6urpkIpIqlYpbB9zd3S1Vq1VEIpFYg7LenZ6edovF4pRXGx4efopzHjIM4486YWho6Mb6+vpfmqYVVFXtazBV/QDqmqKqarOmaT/t7OzQwMDAe3U31HV9LR6P/8IYC9m2/UUqlbrmAe4DKNcGbNv+mIheWFtb+31vb++zR9bX7Ozs6ysrK0W/3/+cbdva1tbWUKMfIJVKKRsbG99zzm+bpimWl5ffBiAabhtFUW5OTEx8PTIyEpIkiQHYIKI5AASgyhh7GcCrRCTl8/ny5OTkl6Zpvg/A+bf19XwsFvsgGo1G+/r6WgOBB41njKFUKiGXy1V1Xc/Nz89/DuAuAPvKfQjgWiAQeFZRlBhj7MkHPMZc183btr2ez+e/A/BrI+M/BMaRHvzJD8cAAAAASUVORK5CYII=">
        <span class="zdt-toolbar-info">
            <?php echo $this->collector->getRequestTime(); ?> time
        </span>
    </div>
    <div class="zdt-toolbar-detail">
        <span class="zdt-toolbar-info zdt-toolbar-info-heading">Details</span>
        <span class="zdt-toolbar-info">
            <span class="zdt-detail-label">Help us!</span>
            <span class="zdt-detail-value zdt-detail-value-right">
                Please help us improve
                <br/>
                profiling by forking and
                <br/>
                contributing to
                <br/>
                <a href="https://github.com/doctrine/DoctrineCouchODMModule/fork_select" target="_blank">
                    DoctrineCouchODMModule
                </a>
            </span>
        </span>

        <span class="zdt-toolbar-info zdt-toolbar-info-heading">Requests <span class="ddt-toolbar-info">for <?php echo $this->collector->getName() ?></span></span>
        <span class="zdt-toolbar-info ddt-toolbar-info">
        <?php foreach ($this->collector->getRequests() as $request):  ?>
            <hr />
            <?php if (isset($request['duration'])): ?>
                <span class="zdt-detail-label">Duration</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($request['duration']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>
            <?php if (isset($request['method'])): ?>
                <span class="zdt-detail-label">Method</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($request['method']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>
            <?php if (isset($request['path'])): ?>
                <span class="zdt-detail-label">Path</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($request['path']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>
            <?php if (isset($request['request'])): ?>
                <span class="zdt-detail-label">Request</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($request['request']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>
            <?php if (isset($request['request_size'])): ?>
                <span class="zdt-detail-label">Request Size</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($request['request_size']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>
            <?php if (isset($request['response_status'])): ?>
                <span class="zdt-detail-label">Response Status</span>
                <span class="zdt-detail-value ddt-detail-value">
                    <?php \Doctrine\Common\Util\Debug::dump($request['response_status']) ?>
                </span>
                <span class="clear"></span>
            <?php endif ?>
            
            <span class="zdt-detail-label">Response</span>
            <span class="zdt-detail-value ddt-detail-query ddt-detail-value">
                <?php if (isset($request['response']) && is_array($request['response']) && !empty($request['response'])): ?>
                    <?php foreach($request['response'] as $key => $value): ?>
                        <?php echo "<strong>{$key}:</strong>"; print_r($value) ?>
                    <?php endforeach ?>
                <?php endif ?>
            </span>
            
            <span class="zdt-detail-label">Response Headers</span>
            <span class="zdt-detail-value ddt-detail-query ddt-detail-value">
                <?php if (isset($request['response_headers']) && is_array($request['response_headers']) && !empty($request['response_headers'])): ?>
                    <?php foreach($request['response_headers'] as $key => $value): ?>
                        <?php echo "&nbsp;<strong>{$key}:</strong>"; print_r($value) ?>
                    <?php endforeach ?>
                <?php endif ?>
            </span>
        <?php endforeach ?>
        </span>
    </div>
</div>
<style>
.zdt-toolbar-entry .zdt-toolbar-detail .ddt-toolbar-info {

    font-size: 11px;
    max-width: 600px;
    witdh: 600px;
    max-height: 300px;
    overflow-y: scroll;
    overflow-x: hidden;
}

.zdt-toolbar-entry .zdt-toolbar-detail .ddt-detail-query {

    white-space: normal;
    width: 400px;
}

.zdt-toolbar-entry .zdt-toolbar-detail .ddt-detail-query .highlight {

    color: #80DC09;
    font-weight: bold;
}

.zdt-toolbar-entry .zdt-toolbar-info .clear {

    clear: both;
    display: block;
}

.zdt-toolbar-entry .zdt-toolbar-detail .ddt-toolbar-info hr {

    border: 0;
    border-top: 1px solid #80DC09;
    clear: both;
}
</style>
